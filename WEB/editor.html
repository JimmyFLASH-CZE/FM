<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Pattern Editor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- Záhlaví -->
  <div style="display:flex; flex-direction:row ; align-items:center">
    <!-- Zpět na seznam vzorců -->
    <div style="margin:10px 0; width:auto">
      <button onclick="window.location.href='index.html'">← Back</button>
    </div>
    
    <!-- Nadpis -->
    <div style="width:auto; text-align:center; flex:1;">
      <h3>Pattern Editor</h3>
    </div>
    
    <!-- Dark mode toggle -->
    <div id="darkModeToggle" style="width:auto; text-align:right;">
      <input type="checkbox" id="darkModeCheckbox"> Dark
    </div>
  </div>
    
  <!-- Name / Description -->
  <div style="display: flex; align-items: center; gap: 8px;">
    <label class="slider-label" style="margin:2px 0;">Name: </label>
    <input type="text" id="formulaName" maxlength="19" style="flex:1;">
  </div>
  <div style="display: flex; align-items: center; gap: 8px;">  
    <label class="slider-label" style="margin:2px 0;">Description: </label>
    <input type="text" id="formulaDesc" maxlength="38" style="flex:1;">  
  </div>
  
  <!-- Buttons -->
  <div style="position:relative; margin-top:10px; margin-bottom:10px;">
    <button onclick="addStep()">Add step</button>
    <button onclick="removeStep()">Remove step</button>
    <button onclick="saveToJson()">Save pattern</button>
  </div>  
  
  <!-- Step buttons -->
  <div id="patternContainer"></div>

  <!-- Sliders / Controls -->
  <div id="controls">
    <div>
      <label class="slider-label">Position:</label>
      <input type="range" id="posSlider" min="0" max="100" value="0">
      <span id="posVal">0</span>%
    </div>
    <div>
      <label class="slider-label">Speed:</label>
      <input type="range" id="speedSlider" min="1" max="100" value="50">
      <span id="speedVal">50</span>%
    </div>
    <div>
      <label class="slider-label">Accel:</label>
      <input type="range" id="accelSlider" min="1" max="100" value="10">
      <span id="accelVal">10</span>%
    </div>
    <div style="display:flex; flex-direction:row ; align-items: center;">
      <div style="flex:1;">
       <label class="slider-label">Delay (ms): </label><input type="number" id="delayInput" min="0" value="0" style="max-width:60px; margin-right:10px;"> 
      </div>
      <div style="flex:1;">AUX1: <input type="checkbox" id="aux1Box"></div>
      <div style="flex:1;">AUX2: <input type="checkbox" id="aux2Box"></div>
    </div>
  </div>

  <!-- Graf -->
  <canvas id="motorChart" width="800" height="400" style="width:100%;max-width:800px;height:auto;"></canvas>

  <!-- Export button -->
  <div style="position:relative; margin-top:10px; margin-bottom:50px;">
    <button onclick="exportPattern()" style="position:absolute; right:10px;">Export</button>
  </div>
  
  <!-- JSON -->
  <pre id="output"></pre>

  <script src="editor.js"></script>
</body>
</html>
